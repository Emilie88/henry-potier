(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[190],{9766:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart",function(){return i(6468)}])},6468:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return u}});var n=i(5893),r=i(7294),a=i(748),s=i(8433);let{default:c}=i(5675),l=()=>{let{items:e,setItems:t}=(0,r.useContext)(a._),[i,l]=(0,r.useState)(0),[u,o]=(0,r.useState)();(0,r.useEffect)(()=>{e.length&&e.map(e=>l(e.isbn))},[e]),(0,r.useEffect)(()=>{let e=async()=>{let e=await s.Z.get("http://henri-potier.xebia.fr/books/\n        ".concat(i,"/commercialOffers"));o(e.data)};e()},[i]);let d=e.reduce((e,t)=>(null==u?void 0:u.offers[0].value)?e+t.quantity*(t.price-(null==u?void 0:u.offers[0].value)):e+t.quantity*t.price,0),f=e=>{t(t=>{var i;return(null===(i=t.find(t=>t.isbn===e))||void 0===i?void 0:i.quantity)===1?t.filter(t=>t.isbn!==e):t.map(t=>t.isbn===e?{...t,quantity:t.quantity-1}:t)})};return(0,n.jsxs)("div",{className:"cart-container",children:[0===d&&(0,n.jsx)("h4",{children:"No products in your cart "}),!!e&&!!e.length&&e.map(e=>(0,n.jsxs)("div",{children:[(0,n.jsxs)("h4",{children:["Original price : ",e.price," € , Price after commercial:"," ",e.price-(null==u?void 0:u.offers[0].value)," €"]}),(0,n.jsxs)("div",{className:"cartItem",children:[(0,n.jsx)(c,{width:80,height:80,src:e.cover,alt:"book"}),(0,n.jsx)("div",{className:"cartitemTitle",children:e.title}),(0,n.jsx)("button",{onClick:()=>f(e.isbn),className:"addToCartBtn",children:"Remove item"})]})]},e.isbn)),(0,n.jsxs)("h4",{className:"total",children:["Total: ",d," €"]})]})};function u(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(l,{})})}}},function(e){e.O(0,[725,774,888,179],function(){return e(e.s=9766)}),_N_E=e.O()}]);